pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
	--music
	sfx(10)
	
	score=0 --score
	
	--timer objects
	timer=0 --counts to 60
	starttimer=0 --flag to start
	
	--hat
	hat={}
	hat.x=1 --hat x and y coord
	hat.y=1
	
	--cat
	cat={}
	cat.index=0 --index of cat spr
	cat.frame=0 --frame timer for cat spr
	cat.x=40 --cat x and y coord
	cat.y=40
	cat.meow=0
	cat.shouldmove=0
end

--move the hat
function movement()
	if hatoncat(hat,cat)==false then
		if btn(0) then hat.x-=1 end
		if btn(1) then hat.x+=1 end
		if btn(2) then hat.y-=1 end
		if btn(3) then hat.y+=1 end
	end
end

--is the hat on the cat?
function hatoncat(cat,hat)
	if	hat.x>cat.x-10 and hat.x<cat.x+10
	and hat.y>cat.y-10 and hat.y<cat.y+10 then
		return true	
	else
		return false
	end
end

--moves cat to randlocation
function continue()
	if hatoncat(hat,cat)==true then
		starttimer=1
		if timer==59 then
			cat.x=flr(rnd(113)+5)
			cat.y=flr(rnd(113)+5)
		end
	end
end

function _update()
	
	movement() --move hat
	hatoncat(cat,hat) --check4hat
	continue() --move cat after win
	
	--30 frame step counter
	if cat.frame<30 then
		cat.frame+=1
	else if cat.frame==30 then
		cat.frame=0
	end
	end
	
	--if .5sec pass change index
	if cat.frame<15 then
		cat.index=0
	else if cat.frame>15 then
		cat.index=1
	end
	end
	
	--sfx
	if cat.frame==16 then
		sfx(0)
	else if cat.frame==1 then
		sfx(1)
	end
	end
	
	--border
	if hat.x>113 then
		hat.x=113
	end
	
	if hat.y>113 then
		hat.y=113
	end
	
	if hat.x<0 then
		hat.x=0
	end
	
	if hat.y<0 then
		hat.y=0
	end
	
	--timer for continue()
	if starttimer==1 then
		timer+=1
	end
	
	if timer==60 then
		timer=0
		starttimer=0
	end
	
	--score +10, play meow, meow txt
	if timer==1 then
		score+=10
		sfx(2)
		cat.meow = flr(rnd(2))
	end
	
end

--scaling function
function zspr(n,w,h,dx,dy,dz)
 sx = 8 * (n % 16)
 sy = 8 * flr(n / 16)
 sw = 8 * w
 sh = 8 * h
 dw = sw * dz
 dh = sh * dz
 sspr(sx,sy,sw,sh, dx,dy,dw,dh)
end

function _draw()

	--clear screen
	rectfill(0,0,128,128,0)
	--draw cat
	zspr(cat.index,1,1,cat.x,cat.y,3)
	--put on hat.
	print("put on hat.",1,1,14)
	
	--hat
	zspr(2,1,1,hat.x,hat.y,2)
	
	--score
	print(score,113,1,14)
	
	--meow txt
	if timer>0 and timer<60 then
		if cat.meow==0 then
			print("mrow\135",cat.x-25,cat.y+5)
		else if cat.meow==1 then
			print("meeow\146",cat.x-30,cat.y+5)
		else if cat.meow==2 then
			print("mew\141",cat.x-25,cat.y+5)
		end
		end
		end
	end
	
	--[[debug
	print(cat.shouldmove,1,5)
	print(timer,1,10)
	print(hatoncat(cat,hat),1,15)
	print(hatoncat(hat,cat),1,10)
	print(cat.x,1,15)
	print(hat.x,1,20)
	print(cat.y,1,25)
	print(hat.y,1,30)
	print(score,1,40)
	print(timer,1,50)]]--
end
__gfx__
00000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
90900009000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
19100009909000090011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9e999999191000090011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
099999909e9999990011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09999999099999900011110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09090909099999990089980000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0b0b0b0b0b0b0b0b1111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01011117111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d0d11110010111170000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7e700000d0d111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
100767617e7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10767000100676610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10101010107670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17171717161616160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0eee0eee0eee00000e0e0eee0eee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e0e0e0000e000000e0e00e00eee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0eee0ee000e000000eee00e00e0e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e000e0000e000000e0e00e00e0e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e000eee00e000000e0e0eee0e0e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000077700000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000077700000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000077700000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000099900099900000000000099900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000099900099900000000000099900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000099900099900000000000099900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000011199911100000000000099900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000011199911100000000000099900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000011199911100000000000099900000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000999eee99999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000999eee99999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000999eee99999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099999999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099999999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099999999999999999999900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099900099900099900099900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099900099900099900099900000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099900099900099900099900000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000bbb000bbb000bbb000bbb00000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000bbb000bbb000bbb000bbb00000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000bbb000bbb000bbb000bbb00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__sfx__
00080000242101e2001e2001e20000000291001d200291001d20029100000001d200000001d200281001d2001d2001d2000000000000000000000000000000000000000000000000000000000000000000000000
000800001f2101f2001f2001f20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0004000024120241202512026120261202712028120291202a1202a1202b1202c1203710038100291002a1002a1002b1002b1002c1002c1002d1002d1002e1002e1002f1002f1003010030100301003010031100
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001b1f02000000032001f02024020240202402024020240202402000000000000000024020280202b0200000030020000002f020000002d020000002b0200000000000000000000000000000000000000000
__music__
00 01424344
00 01424344

